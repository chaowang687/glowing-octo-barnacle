# 本地化系统知识库

## 模块概述
本地化系统是一个完整的本地化管理系统，支持多语言切换、CSV文件管理、与Unity Localization系统集成等功能。

## 核心功能
- 多语言切换
- CSV文件管理
- 与Unity Localization系统集成
- 本地化文本获取

## 核心文件和类

### 1. LocalizationManager.cs
- **位置**: `Assets/Localization/LocalizationManager.cs`
- **功能**: 本地化系统核心管理器，负责加载CSV文件、更新Unity Localization系统、提供本地化API等
- **主要功能**:
  - 本地化系统初始化
  - CSV文件加载和更新
  - 本地化文本获取
  - 语言切换

### 2. LanguageToggleGroup.cs
- **位置**: `Assets/Localization/LanguageToggleGroup.cs`
- **功能**: 语言切换UI组件，负责处理语言切换的UI交互
- **主要功能**:
  - 语言切换UI
  - 切换逻辑

## 关键API和方法

### LocalizationManager
- `GetLocalizedString(string key)`: 获取本地化文本
- `SetLanguage(string languageCode)`: 设置当前语言
- `GetCurrentLanguageCode()`: 获取当前语言代码
- `LoadCSVAndUpdateTables()`: 加载CSV文件并更新到Unity Localization系统

## 使用示例

### 1. 获取本地化文本
```csharp
// 获取本地化文本
string localizedText = LocalizationManager.Instance.GetLocalizedString("key");
```

### 2. 切换语言
```csharp
// 切换到中文
LocalizationManager.Instance.SetLanguage("zh-CN");

// 切换到英文
LocalizationManager.Instance.SetLanguage("en-US");
```

### 3. 加载CSV文件
```csharp
// 加载CSV文件并更新到Unity Localization系统
LocalizationManager.Instance.LoadCSVAndUpdateTables();
```

## 配置和依赖
- **CSV文件**: 需要设置CSV文件路径
- **Unity Localization系统**: 需要配置Unity Localization系统
- **语言切换UI**: 需要设置语言切换UI组件

## 常见问题和解决方案

### 1. 本地化文本不显示
**原因**: 本地化键不正确或CSV文件未加载
**解决方案**: 检查本地化键是否正确，确保CSV文件已加载

### 2. 语言切换不起作用
**原因**: 语言代码不正确或Unity Localization系统未配置
**解决方案**: 检查语言代码是否正确，确保Unity Localization系统已配置

### 3. CSV文件加载失败
**原因**: CSV文件路径不正确或文件格式错误
**解决方案**: 检查CSV文件路径是否正确，确保文件格式正确

## 扩展建议
- 添加更多语言支持
- 实现动态文本本地化
- 添加本地化编辑器工具
- 实现本地化资源管理