# 优化背包数据清理代码

## 问题分析
之前的清理代码可能会导致空指针错误，因为当调用 `InventoryManager.Instance` 的方法时，其内部引用的 `CurrentGrid` 或其他对象可能已被销毁，从而触发 UI 刷新错误。

## 优化方案
按照用户的建议，优化了 `CharacterSelectionManager.cs` 中的 `OnStartGameClicked` 方法，采用更稳妥的清理方式：

1. **先停掉所有可能干扰的逻辑**
2. **彻底清理 SO (Scriptable Objects)**
3. **强力删除存档文件**
4. **关键：直接销毁旧的单例，不要调用它的方法**
   - 因为调用方法可能会触发 UI 刷新，而此时 UI 正在销毁，极易报错
5. **最后跳转场景**

## 具体修改

1. **移除了 try-catch 块**，因为现在通过更严格的 null 检查避免了错误
2. **简化了清理逻辑**，按照用户建议的顺序执行
3. **直接销毁 InventoryManager 实例**，不再调用其 `ClearInventory` 和 `ResetInventoryData` 方法
4. **确保了所有 null 检查**，防止空指针错误
5. **保留了调试日志**，方便跟踪清理过程

## 预期效果
- 清理过程更加稳定，不会出现空指针错误
- 背包数据（包括 NewInventorySO）会被正确清空
- 每次从角色选择页进入游戏都是新游戏，不会继承之前的背包数据
- 控制台会输出 `InventorySO {name} has been cleared!` 的错误日志，确认清理成功