# 主角受攻击显示受击数字实现

## 问题分析
敌人掉血时有受击数字显示，是因为 `CharacterBase` 类中的 `TakeDamage` 方法会实例化 `damagePopupPrefab` 并显示伤害数字。主角（`Hero` 类）继承自 `CharacterBase`，理论上应该也能显示伤害数字，但需要确保相关设置正确。

## 实现计划

1. **检查并修改 `TakeDamage` 方法**
   - 修改 `CharacterBase` 类中的 `TakeDamage` 方法，使其更通用，能够适应不同角色的UI结构
   - 确保伤害数字能够正确显示在所有角色上，包括主角

2. **优化伤害数字生成逻辑**
   - 确保伤害数字在正确的父节点下生成
   - 处理没有 `RectTransform` 组件的情况
   - 确保伤害数字位置正确

3. **确保伤害数字动画正确**
   - 检查 `DamagePopupAnimation` 脚本是否正确实现
   - 确保伤害数字动画能够正确播放

## 具体实现步骤

1. **修改 `CharacterBase` 类的 `TakeDamage` 方法**
   - 将伤害数字的生成逻辑优化，使其能够适应不同的UI结构
   - 处理没有 `RectTransform` 组件的情况
   - 确保伤害数字能够正确显示在所有角色上

2. **测试实现效果**
   - 确保主角在受到伤害时能够显示伤害数字
   - 确保伤害数字位置正确
   - 确保伤害数字动画能够正确播放

## 预期效果
主角在受到攻击时，会显示与敌人相同的受击数字效果，包括数字动画和位置。